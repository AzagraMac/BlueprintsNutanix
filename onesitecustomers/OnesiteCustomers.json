{
  "api_version":"3.0",
  "metadata":{
    "categories":{
      "AppFamily":"DevOps"
    },
    "creation_time":"1558092724156581",
    "kind":"blueprint",
    "last_update_time":"1560158702736758",
    "name":"OnesiteCustomers",
    "spec_version":94
  },
  "spec":{
    "description":"",
    "name":"OnesiteCustomers",
    "resources":{
      "app_profile_list":[
        {
          "action_list":[
            {
              "critical":false,
              "description":"This action will scale in jenkins slaves by given scale in count",
              "name":"ScaleIn",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"cbb5bcfe_dag"
                },
                "name":"19f91eaa_runbook",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"cbb5bcfe_dag",
                    "retries":"0",
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[
                  {
                    "attrs":{
                      "type":""
                    },
                    "description":"",
                    "editables":{
                      "value":true
                    },
                    "label":"",
                    "name":"SCALEIN_COUNT",
                    "type":"LOCAL",
                    "val_type":"STRING",
                    "value":"2"
                  }
                ]
              },
              "type":"user"
            },
            {
              "critical":false,
              "description":"This action will scale out jenkins slaves by given scale out count",
              "name":"ScaleOut",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"3eff5af2_dag"
                },
                "name":"f96ab3d8_runbook",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"3eff5af2_dag",
                    "retries":"0",
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[
                  {
                    "attrs":{
                      "type":""
                    },
                    "description":"",
                    "editables":{
                      "value":true
                    },
                    "label":"",
                    "name":"SCALEOUT_COUNT",
                    "type":"LOCAL",
                    "val_type":"STRING",
                    "value":"2"
                  }
                ]
              },
              "type":"user"
            }
          ],
          "deployment_create_list":[
            {
              "action_list":[

              ],
              "depends_on_list":[

              ],
              "description":"",
              "max_replicas":"1",
              "min_replicas":"1",
              "name":"487f0f9a_deployment_cloned_1",
              "package_local_reference_list":[
                {
                  "kind":"app_package",
                  "name":"InstallESB"
                }
              ],
              "published_service_local_reference_list":[

              ],
              "substrate_local_reference":{
                "kind":"app_substrate",
                "name":"Enterprise Server Bus"
              },
              "type":"GREENFIELD",
              "variable_list":[

              ]
            },
            {
              "action_list":[

              ],
              "depends_on_list":[

              ],
              "description":"",
              "max_replicas":"1",
              "min_replicas":"1",
              "name":"487f0f9a_deployment_cloned_1_cloned_0",
              "package_local_reference_list":[
                {
                  "kind":"app_package",
                  "name":"InstallESB_cloned_0"
                }
              ],
              "published_service_local_reference_list":[

              ],
              "substrate_local_reference":{
                "kind":"app_substrate",
                "name":"Front"
              },
              "type":"GREENFIELD",
              "variable_list":[

              ]
            },
            {
              "action_list":[

              ],
              "depends_on_list":[

              ],
              "description":"",
              "max_replicas":"1",
              "min_replicas":"1",
              "name":"487f0f9a_deployment_cloned_1_cloned_0_cloned_0",
              "package_local_reference_list":[
                {
                  "kind":"app_package",
                  "name":"InstallESB_cloned_0_cloned_0"
                }
              ],
              "published_service_local_reference_list":[

              ],
              "substrate_local_reference":{
                "kind":"app_substrate",
                "name":"Batch"
              },
              "type":"GREENFIELD",
              "variable_list":[

              ]
            },
            {
              "action_list":[

              ],
              "depends_on_list":[

              ],
              "description":"",
              "max_replicas":"1",
              "min_replicas":"1",
              "name":"487f0f9a_deployment_cloned_1_cloned_1",
              "package_local_reference_list":[
                {
                  "kind":"app_package",
                  "name":"InstallESB_cloned_1"
                }
              ],
              "published_service_local_reference_list":[

              ],
              "substrate_local_reference":{
                "kind":"app_substrate",
                "name":"Backend"
              },
              "type":"GREENFIELD",
              "variable_list":[

              ]
            },
            {
              "action_list":[

              ],
              "depends_on_list":[

              ],
              "description":"",
              "max_replicas":"1",
              "min_replicas":"1",
              "name":"487f0f9a_deployment_cloned_1_cloned_2",
              "package_local_reference_list":[
                {
                  "kind":"app_package",
                  "name":"InstallESB_cloned_2"
                }
              ],
              "published_service_local_reference_list":[

              ],
              "substrate_local_reference":{
                "kind":"app_substrate",
                "name":"Peripherals"
              },
              "type":"GREENFIELD",
              "variable_list":[

              ]
            },
            {
              "action_list":[

              ],
              "depends_on_list":[

              ],
              "description":"",
              "max_replicas":"1",
              "min_replicas":"1",
              "name":"487f0f9a_deployment_cloned_1_cloned_3",
              "package_local_reference_list":[
                {
                  "kind":"app_package",
                  "name":"SQL"
                }
              ],
              "published_service_local_reference_list":[

              ],
              "substrate_local_reference":{
                "kind":"app_substrate",
                "name":"DataBase"
              },
              "type":"GREENFIELD",
              "variable_list":[

              ]
            }
          ],
          "description":"",
          "name":"Nutanix",
          "variable_list":[
            {
              "attrs":{
                "is_secret_modified":false,
                "secret_reference":{

                },
                "type":""
              },
              "description":"",
              "editables":{
                "value":true
              },
              "label":"",
              "name":"AUTHORIZED_KEY",
              "type":"SECRET",
              "val_type":"STRING",
              "value":""
            },
            {
              "attrs":{
                "is_secret_modified":false,
                "secret_reference":{

                },
                "type":""
              },
              "description":"",
              "label":"",
              "name":"INSTANCE_PUBLIC_KEY",
              "type":"SECRET",
              "val_type":"STRING",
              "value":""
            },
            {
              "attrs":{
                "type":""
              },
              "description":"",
              "editables":{
                "value":true
              },
              "label":"",
              "name":"TOMCAT_USER",
              "type":"LOCAL",
              "val_type":"STRING",
              "value":""
            },
            {
              "attrs":{
                "type":""
              },
              "description":"",
              "editables":{
                "value":true
              },
              "label":"",
              "name":"TOMCAT_USER_ADMIN",
              "type":"LOCAL",
              "val_type":"STRING",
              "value":""
            },
            {
              "attrs":{
                "is_secret_modified":false,
                "secret_reference":{

                },
                "type":""
              },
              "description":"",
              "editables":{
                "value":true
              },
              "label":"",
              "name":"TOMCAT_USER_ADMIN_PASSWORD",
              "type":"SECRET",
              "val_type":"STRING",
              "value":""
            },
            {
              "attrs":{
                "is_secret_modified":false,
                "secret_reference":{

                },
                "type":""
              },
              "description":"",
              "editables":{
                "value":true
              },
              "label":"",
              "name":"TOMCAT_USER_PASSWORD",
              "type":"SECRET",
              "val_type":"STRING",
              "value":""
            }
          ]
        }
      ],
      "client_attrs":{
        "487f0f9a_deployment_cloned_1":{
          "x":-234.9268491886,
          "y":-124.6876531373
        },
        "487f0f9a_deployment_cloned_1_cloned_0":{
          "x":-44.8028276705,
          "y":-249.7231247456
        },
        "487f0f9a_deployment_cloned_1_cloned_0_cloned_0":{
          "x":238.8571428571,
          "y":-260.244047619
        },
        "487f0f9a_deployment_cloned_1_cloned_1":{
          "x":-44.5178571429,
          "y":4.4642857143
        },
        "487f0f9a_deployment_cloned_1_cloned_2":{
          "x":237.4821428571,
          "y":4.7142857143
        },
        "487f0f9a_deployment_cloned_1_cloned_3":{
          "x":487.5144881218,
          "y":6.4719603352
        },
        "None":{
          "x":155.7142857143,
          "y":104
        }
      },
      "credential_definition_list":[
        {
          "description":"",
          "editables":{
            "secret":true,
            "username":true
          },
          "name":"centos",
          "secret":{
            "attrs":{
              "is_secret_modified":false,
              "secret_reference":{

              }
            }
          },
          "type":"KEY",
          "username":"centos"
        },
        {
          "description":"",
          "name":"localAdminAccount",
          "secret":{
            "attrs":{
              "is_secret_modified":false,
              "secret_reference":{

              }
            }
          },
          "type":"PASSWORD",
          "username":"administrador"
        }
      ],
      "default_credential_local_reference":{
        "kind":"app_credential",
        "name":"centos"
      },
      "package_definition_list":[
        {
          "action_list":[

          ],
          "description":"",
          "name":"InstallESB",
          "options":{
            "install_runbook":{
              "description":"",
              "main_task_local_reference":{
                "kind":"app_task",
                "name":"5b445cb2_dag_cloned_1"
              },
              "message_list":[

              ],
              "name":"2ced9004_runbook_cloned_1",
              "state":"ACTIVE",
              "task_definition_list":[
                {
                  "attrs":{
                    "edges":[
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"InstallOpenJDK"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"installWSO2"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"InstallWSO2AM"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"InstallActiveMQ"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"installPackages"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"InstallOpenJDK"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"installWSO2"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"InstallWSO2AM"
                        },
                        "type":""
                      }
                    ],
                    "type":""
                  },
                  "child_tasks_local_reference_list":[
                    {
                      "kind":"app_task",
                      "name":"InstallActiveMQ"
                    },
                    {
                      "kind":"app_task",
                      "name":"InstallOpenJDK"
                    },
                    {
                      "kind":"app_task",
                      "name":"InstallWSO2AM"
                    },
                    {
                      "kind":"app_task",
                      "name":"installPackages"
                    },
                    {
                      "kind":"app_task",
                      "name":"installWSO2"
                    }
                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"5b445cb2_dag_cloned_1",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_package",
                    "name":"InstallESB"
                  },
                  "timeout_secs":"0",
                  "type":"DAG",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\ncd \/tmp\nwget http:\/\/10.22.21.134\/packages\/linux\/activemq\/apache-activemq-5.13.2-bin.tar.gz\ntar -zxvf apache-activemq-5.13.2-bin.tar.gz\n\nsed -i '87iexport JAVA_HOME=\/usr\/jdk8' \/tmp\/apache-activemq-5.13.2\/bin\/activemq\nrm -rf \/tmp\/apache-activemq-5.13.2\/bin\/env\n\necho '#!\/bin\/sh\n#\n\n# Set jvm memory configuration (minimal\/maximum amount of memory)\nACTIVEMQ_OPTS_MEMORY=\"-Xms64M -Xmx1G\"\n\nif [ -z \"$ACTIVEMQ_OPTS\" ] ; then\n    ACTIVEMQ_OPTS=\"$ACTIVEMQ_OPTS_MEMORY -Djava.util.logging.config.file=logging.properties -Djava.security.auth.login.config=$ACTIVEMQ_CONF\/login.config\"\nfi\n\n# Uncomment to enable audit logging\n# ACTIVEMQ_OPTS=\"$ACTIVEMQ_OPTS -Dorg.apache.activemq.audit=true\"\n# ACTIVEMQ_SUNJMX_START=\"$ACTIVEMQ_SUNJMX_START -Dcom.sun.management.jmxremote.port=11099 \"\n# ACTIVEMQ_SUNJMX_START=\"$ACTIVEMQ_SUNJMX_START -Dcom.sun.management.jmxremote.password.file=${ACTIVEMQ_CONF}\/jmx.password\"\n# ACTIVEMQ_SUNJMX_START=\"$ACTIVEMQ_SUNJMX_START -Dcom.sun.management.jmxremote.access.file=${ACTIVEMQ_CONF}\/jmx.access\"\n# ACTIVEMQ_SUNJMX_START=\"$ACTIVEMQ_SUNJMX_START -Dcom.sun.management.jmxremote.ssl=false\"\nACTIVEMQ_SUNJMX_START=\"$ACTIVEMQ_SUNJMX_START -Dcom.sun.management.jmxremote\"\n\n# Set jvm jmx configuration for controlling the broker process\nACTIVEMQ_SUNJMX_CONTROL=\"\"\n\n# Specify the queue manager URL for using \"browse\" option of sysv initscript\nif [ -z \"$ACTIVEMQ_QUEUEMANAGERURL\" ]; then\n    ACTIVEMQ_QUEUEMANAGERURL=\"--amqurl tcp:\/\/localhost:61616\"\nfi\n\n# Set additional JSE arguments\n#ACTIVEMQ_SSL_OPTS=\"-Dcom.sun.security.enableCRLDP=true -Docsp.enable=true -Docsp.responderURL=http:\/\/ocsp.example.net:80\"\nACTIVEMQ_SSL_OPTS=\"\"\n\n# Uncomment to enable remote debugging\n#ACTIVEMQ_DEBUG_OPTS=\"-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005\"\n\n# ActiveMQ tries to shutdown the broker by jmx,\n# after a specified number of seconds send SIGKILL\nif [ -z \"$ACTIVEMQ_KILL_MAXSECONDS\" ]; then\n    ACTIVEMQ_KILL_MAXSECONDS=30\nfi\n\n# Active MQ installation dirs\nACTIVEMQ_HOME=\"\/usr\/local\/activemq\"\nACTIVEMQ_BASE=\"$ACTIVEMQ_HOME\"\nACTIVEMQ_CONF=\"$ACTIVEMQ_BASE\/conf\"\nACTIVEMQ_DATA=\"$ACTIVEMQ_BASE\/data\"\nACTIVEMQ_TMP=\"$ACTIVEMQ_BASE\/tmp\"\n\n# Configure a user with non root privileges, if no user is specified do not change user\n# (the entire activemq installation should be owned by this user)\nACTIVEMQ_USER=\"activemq\"\n\n# location of the pidfile\n# ACTIVEMQ_PIDFILE=\"$ACTIVEMQ_DATA\/activemq.pid\"\n\n# Location of the java installation\n# Specify the location of your java installation using JAVA_HOME, or specify the\n# path to the \"java\" binary using JAVACMD\n# (set JAVACMD to \"auto\" for automatic detection)\nJAVA_HOME=\"\/usr\/jdk8\"\nJAVACMD=\"auto\"\n\n' | sudo tee -a \/tmp\/apache-activemq-5.13.2\/bin\/env\n\nsudo mv apache-activemq-5.13.2 \/usr\/local\/activemq\n\nsudo groupadd activemq\nsudo useradd -m -g activemq -s \/bin\/bash activemq\nsudo usermod -c \"ActiveMQ Broker\" -d \/usr\/local\/activemq -g activemq activemq\n\nsudo chmod a+x \/usr\/local\/activemq\/bin\/activemq\nsudo chown -R activemq:activemq \/usr\/local\/activemq\nsudo chmod u=rwx,g=rxs,o= \/usr\/local\/activemq\n\nsudo cp \/usr\/local\/activemq\/bin\/env \/etc\/default\/activemq\nsudo chown root:root \/etc\/default\/activemq\n\nsudo \/usr\/local\/activemq\/bin\/activemq start",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"InstallActiveMQ",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"WSO2"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\nsudo yum install -y java-1.8.0-openjdk-devel\nsudo ln -s \/usr\/lib\/jvm\/java-1.8.0-openjdk-*\/ \/usr\/jdk8\nexport JAVA_HOME=\/usr\/jdk8",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"InstallOpenJDK",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"WSO2"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\ncd \/tmp\nwget http:\/\/10.22.21.134\/packages\/linux\/wso2\/wso2am-1.10.0.zip\n\ncd \/opt\nsudo unzip \/tmp\/wso2am-1.10.0.zip\n\nsudo sed -i '35iexport JAVA_HOME=\/usr\/jdk8' \/opt\/wso2am-1.10.0\/bin\/wso2server.sh\nsudo chmod a+x \/opt\/wso2am-1.10.0\/bin\/*.sh\n\ncd \/tmp\nsudo echo \"[Unit]\nDescription=wso2am: Enterprise server bus service\nDocumentation=https:\/\/wso2.com\/\n\n[Service]\nExecStart=\/bin\/bash \/opt\/wso2am-1.10.0\/bin\/wso2server.sh\nRestart=always\nStartLimitInterval=0\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\" > wso2amserver.service\n\nsudo mv wso2amserver.service \/etc\/systemd\/system\/\nsudo chmod 755 \/etc\/systemd\/system\/wso2amserver.service\n\nsudo groupadd apimgr\nsudo useradd -s \/bin\/nologin -g apimgr -d \/opt\/wso2am-1.10.0 apimgr\n\nsudo systemctl daemon-reload\nsudo systemctl enable wso2amserver.service\nsudo systemctl start wso2amserver.service\n",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"InstallWSO2AM",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"WSO2"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\nsudo yum update -y\nsudo yum install -y unzip wget curl vim\nsudo yum clean packages\nsudo yum clean headers\nsudo yum clean metadata\nsudo yum clean all\n",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"installPackages",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_package",
                    "name":"InstallESB"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\ncd ~\/.ssh\/\necho '@@{AUTHORIZED_KEY}@@' >> authorized_keys\nsudo chmod 600 authorized_keys\n\ncd \/tmp\nwget http:\/\/10.22.21.134\/packages\/linux\/wso2\/wso2esb-4.9.0.zip\n\ncd \/opt\nsudo unzip \/tmp\/wso2esb-4.9.0.zip\n\nsudo sed -i '35iexport JAVA_HOME=\/usr\/jdk8' \/opt\/wso2esb-4.9.0\/bin\/wso2server.sh\nsudo chmod a+x \/opt\/wso2esb-4.9.0\/bin\/*.sh\n\ncd \/tmp\nsudo echo \"[Unit]\nDescription=wso2: Enterprise server bus service\nDocumentation=https:\/\/wso2.com\/\n\n[Service]\nExecStart=\/bin\/bash \/opt\/wso2esb-4.9.0\/bin\/wso2server.sh\nRestart=always\nStartLimitInterval=0\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\" > wso2server.service\n\nsudo mv wso2server.service \/etc\/systemd\/system\/\nsudo chmod 755 \/etc\/systemd\/system\/wso2server.service\n\nsudo systemctl daemon-reload\nsudo systemctl enable wso2server.service\nsudo systemctl start wso2server.service",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"installWSO2",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"WSO2"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                }
              ],
              "variable_list":[

              ]
            },
            "type":"",
            "uninstall_runbook":{
              "description":"",
              "main_task_local_reference":{
                "kind":"app_task",
                "name":"e915b53d_dag_cloned_1"
              },
              "message_list":[

              ],
              "name":"cef65be2_runbook_cloned_1",
              "state":"ACTIVE",
              "task_definition_list":[
                {
                  "attrs":{
                    "edges":[

                    ],
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"e915b53d_dag_cloned_1",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_package",
                    "name":"InstallESB"
                  },
                  "timeout_secs":"0",
                  "type":"DAG",
                  "variable_list":[

                  ]
                }
              ],
              "variable_list":[

              ]
            }
          },
          "service_local_reference_list":[
            {
              "kind":"app_service",
              "name":"WSO2"
            }
          ],
          "type":"DEB",
          "variable_list":[

          ],
          "version":""
        },
        {
          "action_list":[

          ],
          "description":"",
          "name":"InstallESB_cloned_0",
          "options":{
            "install_runbook":{
              "description":"",
              "main_task_local_reference":{
                "kind":"app_task",
                "name":"5b445cb2_dag_cloned_1_cloned_1"
              },
              "message_list":[

              ],
              "name":"2ced9004_runbook_cloned_1_cloned_0",
              "state":"ACTIVE",
              "task_definition_list":[
                {
                  "attrs":{
                    "edges":[
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"InstallOpenJDK"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"InstallTomcat"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"InstallTomcat"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"InstallWAR"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"InstallWAR"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"RestartTomcat"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"RestartTomcat"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"AddAuthorizedKeys"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"installPackages"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"InstallOpenJDK"
                        },
                        "type":""
                      }
                    ],
                    "type":""
                  },
                  "child_tasks_local_reference_list":[
                    {
                      "kind":"app_task",
                      "name":"AddAuthorizedKeys"
                    },
                    {
                      "kind":"app_task",
                      "name":"InstallOpenJDK"
                    },
                    {
                      "kind":"app_task",
                      "name":"InstallTomcat"
                    },
                    {
                      "kind":"app_task",
                      "name":"InstallWAR"
                    },
                    {
                      "kind":"app_task",
                      "name":"RestartTomcat"
                    },
                    {
                      "kind":"app_task",
                      "name":"installPackages"
                    }
                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"5b445cb2_dag_cloned_1_cloned_1",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_package",
                    "name":"InstallESB_cloned_0"
                  },
                  "timeout_secs":"0",
                  "type":"DAG",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "script":"#!\/bin\/bash\nset -ex\n\ncd ~\/.ssh\/\n\necho '@@{AUTHORIZED_KEY}@@' >> authorized_keys\nsudo chmod 600 authorized_keys",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"AddAuthorizedKeys",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Front"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\nsudo yum install -y java-1.8.0-openjdk-devel\nsudo ln -s \/usr\/lib\/jvm\/java-1.8.0-openjdk-*\/ \/usr\/jdk8\nexport JAVA_HOME=\/usr\/jdk8",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"InstallOpenJDK",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Front"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "script":"#!\/bin\/bash\nset -ex\n\nsudo groupadd tomcat\nsudo mkdir -p \/usr\/local\/tomcat\nsudo useradd -s \/bin\/nologin -g tomcat -d \/usr\/local\/tomcat tomcat\nsudo useradd -s \/bin\/nologin -g tomcat -d \/usr\/local\/tomcat admweb\nsudo useradd -s \/bin\/nologin -g tomcat -d \/usr\/local\/tomcat icdesa3\n\ncd \/tmp && sudo wget https:\/\/archive.apache.org\/dist\/tomcat\/tomcat-8\/v8.5.30\/bin\/apache-tomcat-8.5.30.tar.gz\nsudo tar -zxvf apache-tomcat-8.5.30.tar.gz\ncd \/tmp\/apache-tomcat-8.5.30\n\n# Change upload file size, default 50Mb, new value 1Gb\nsudo sed -i 's\/52428800\/1073741824\/g' \/tmp\/apache-tomcat-8.5.30\/webapps\/manager\/WEB-INF\/web.xml\n\nsudo mv \/tmp\/apache-tomcat-8.5.30\/* \/usr\/local\/tomcat\/\nsudo chown -R centos:centos \/usr\/local\/tomcat\nsudo chmod a+x \/usr\/local\/tomcat\/bin\/*.sh\nsudo ln -s \/usr\/local\/tomcat\/ \/opt\/apache-tomcat-8.5.30\n\n####################################################################\nsudo mkdir -p \/soflib00\/desarrollo\/icDesa3Web\nsudo ln -s \/usr\/local\/tomcat\/webapps \/soflib00\/desarrollo\/icDesa3Web\/\n####################################################################\n\necho '[Unit]\nDescription=Apache Tomcat Web Application Container\nAfter=syslog.target network.target\n\n[Service]\nType=forking\nSuccessExitStatus=143\n\nEnvironment=JAVA_HOME=\/usr\/jdk8\nEnvironment=JRE_HOME=\/usr\/jdk8\/jre\nEnvironment=CATALINA_PID=\/usr\/local\/tomcat\/temp\/tomcat.pid\nEnvironment=CATALINA_HOME=\/usr\/local\/tomcat\nEnvironment=CATALINA_BASE=\/usr\/local\/tomcat\nEnvironment='CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC'\nEnvironment='JAVA_OPTS=-Djava.awt.headless=true -Djava.security.egd=file:\/dev\/.\/urandom'\n\nExecStart=\/usr\/local\/tomcat\/bin\/startup.sh\nExecStop=\/bin\/kill -15 $MAINPID\n\nUser=tomcat\nGroup=tomcat\n\n[Install]\nWantedBy=multi-user.target' | sudo tee -a \/etc\/systemd\/system\/tomcat.service\n\nsudo rm -rf \/usr\/local\/tomcat\/conf\/tomcat-users.xml\nsudo touch \/usr\/local\/tomcat\/conf\/tomcat-users.xml\necho '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<tomcat-users xmlns=\"http:\/\/tomcat.apache.org\/xml\"\n        xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\"\n        xsi:schemaLocation=\"http:\/\/tomcat.apache.org\/xml tomcat-users.xsd\"\n        version=\"1.0\">\n        \n            <role rolename=\"manager\"\/>\n            <role rolename=\"manager-gui\"\/>\n            <role rolename=\"manager-status\"\/>\n            <role rolename=\"manager-script\"\/>\n            <role rolename=\"admin\"\/>\n            <role rolename=\"admin-gui\"\/>\n            <role rolename=\"admin-script\"\/>\n            <role rolename=\"manager-jmx\"\/>\n            <user username=\"'@@{TOMCAT_USER_ADMIN}@@'\" password=\"'@@{TOMCAT_USER_ADMIN_PASSWORD}@@'\" roles=\"manager,manager-gui,manager-script,admin,admin-gui,admin-script,manager-script,manager-status,manager-jmx\" \/>\n            <user username=\"'@@{TOMCAT_USER}@@'\" password=\"'@@{TOMCAT_USER_PASSWORD}@@'\" roles=\"manager,manager-gui,manager-status\" \/>\n            \n<\/tomcat-users>' | sudo tee -a \/usr\/local\/tomcat\/conf\/tomcat-users.xml\n\nsudo rm -rf \/usr\/local\/tomcat\/webapps\/manager\/META-INF\/context.xml\nsudo touch \/usr\/local\/tomcat\/webapps\/manager\/META-INF\/context.xml\necho '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Context antiResourceLocking=\"false\" privileged=\"true\" >\n        <Valve className=\"org.apache.catalina.valves.RemoteAddrValve\" allow=\"^.*$\" \/>\n        <Manager sessionAttributeValueClassNameFilter=\"java\\.lang\\.(?:Boolean|Integer|Long|Number|String)|org\\.apache\\.catalina\\.filters\\.CsrfPreventionFilter\\$LruCache(?:\\$1)?|java\\.util\\.(?:Linked)?HashMap\"\/>\n<\/Context>' | sudo tee -a \/usr\/local\/tomcat\/webapps\/manager\/META-INF\/context.xml\n\nsudo rm -rf \/usr\/local\/tomcat\/webapps\/host-manager\/META-INF\/context.xml\nsudo touch \/usr\/local\/tomcat\/webapps\/host-manager\/META-INF\/context.xml\necho '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Context antiResourceLocking=\"false\" privileged=\"true\" >\n  <Valve className=\"org.apache.catalina.valves.RemoteAddrValve\" allow=\"^.*$\" \/>\n  <Manager sessionAttributeValueClassNameFilter=\"java\\.lang\\.(?:Boolean|Integer|Long|Number|String)|org\\.apache\\.catalina\\.filters\\.CsrfPreventionFilter\\$LruCache(?:\\$1)?|java\\.util\\.(?:Linked)?HashMap\"\/>\n<\/Context>' | sudo tee -a \/usr\/local\/tomcat\/webapps\/host-manager\/META-INF\/context.xml\n\nsudo chown -R tomcat:tomcat \/usr\/local\/tomcat\n\nsudo systemctl start tomcat.service\nsudo systemctl enable tomcat.service",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"InstallTomcat",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Front"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\ncd \/tmp\/\nsudo wget http:\/\/10.22.21.134\/packages\/.private\/front\/icDesa3Web.war\nsudo wget http:\/\/10.22.21.134\/packages\/.private\/front\/incms-administration-icDesa3.tar.gz\n\ntar -zxvf incms-administration-icDesa3.tar.gz\nsudo mv \/tmp\/incms-administration-icDesa3 \/soflib00\/desarrollo\/icDesa3Web\/webapps\/\nsudo mv \/tmp\/icDesa3Web.war \/soflib00\/desarrollo\/icDesa3Web\/webapps\/\n\nsudo chown -R tomcat:tomcat \/soflib00",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"InstallWAR",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Front"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\nexport CATALINA_BASE=\/soflib00\/desarrollo\/inCMS3_OV\nsudo systemctl restart tomcat.service",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"RestartTomcat",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Front"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\nsudo yum update -y\nsudo yum install -y wget curl vim\nsudo yum clean packages\nsudo yum clean headers\nsudo yum clean metadata\nsudo yum clean all",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"installPackages",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Front"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                }
              ],
              "variable_list":[

              ]
            },
            "type":"",
            "uninstall_runbook":{
              "description":"",
              "main_task_local_reference":{
                "kind":"app_task",
                "name":"e915b53d_dag_cloned_1_cloned_1"
              },
              "message_list":[

              ],
              "name":"cef65be2_runbook_cloned_1_cloned_0",
              "state":"ACTIVE",
              "task_definition_list":[
                {
                  "attrs":{
                    "edges":[

                    ],
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"e915b53d_dag_cloned_1_cloned_1",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_package",
                    "name":"InstallESB_cloned_0"
                  },
                  "timeout_secs":"0",
                  "type":"DAG",
                  "variable_list":[

                  ]
                }
              ],
              "variable_list":[

              ]
            }
          },
          "service_local_reference_list":[
            {
              "kind":"app_service",
              "name":"Tomcat_Front"
            }
          ],
          "type":"DEB",
          "variable_list":[

          ],
          "version":""
        },
        {
          "action_list":[

          ],
          "description":"",
          "name":"InstallESB_cloned_0_cloned_0",
          "options":{
            "install_runbook":{
              "description":"",
              "main_task_local_reference":{
                "kind":"app_task",
                "name":"5b445cb2_dag_cloned_1_cloned_1_cloned_1"
              },
              "message_list":[

              ],
              "name":"2ced9004_runbook_cloned_1_cloned_0_cloned_0",
              "state":"ACTIVE",
              "task_definition_list":[
                {
                  "attrs":{
                    "edges":[
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"CopyScripts"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"AddAuthorizedKeys"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"CreateFolders"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"CreateUserandGroup"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"CreateUserandGroup"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"CopyScripts"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"InstallOpenJDK"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"CreateFolders"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"installPackages"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"InstallOpenJDK"
                        },
                        "type":""
                      }
                    ],
                    "type":""
                  },
                  "child_tasks_local_reference_list":[
                    {
                      "kind":"app_task",
                      "name":"AddAuthorizedKeys"
                    },
                    {
                      "kind":"app_task",
                      "name":"CopyScripts"
                    },
                    {
                      "kind":"app_task",
                      "name":"CreateFolders"
                    },
                    {
                      "kind":"app_task",
                      "name":"CreateUserandGroup"
                    },
                    {
                      "kind":"app_task",
                      "name":"InstallOpenJDK"
                    },
                    {
                      "kind":"app_task",
                      "name":"installPackages"
                    }
                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"5b445cb2_dag_cloned_1_cloned_1_cloned_1",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_package",
                    "name":"InstallESB_cloned_0_cloned_0"
                  },
                  "timeout_secs":"0",
                  "type":"DAG",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\ncd ~\/.ssh\/\n\necho '@@{AUTHORIZED_KEY}@@' >> authorized_keys\nsudo chmod 600 authorized_keys",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"AddAuthorizedKeys",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"OpenJDK_Batch"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\ncd \/tmp\/\nsudo wget http:\/\/10.22.21.137\/repo\/soft\/batch\/scriptsBatch.tar.gz\n\nsudo tar -xvf \/tmp\/scriptsBatch.tar.gz\nsudo chmod a+x \/tmp\/batch\/*.sh\n\nsudo mv \/tmp\/batch\/setEnv.sh \/soflib00\/desarrollo\/inCMS3\/bin\/\nsudo mv \/tmp\/batch\/*.sh \/soflib00\/desarrollo\/inCMS3\/bin\/batch\/\n\nsudo chown icdesa3:icdesa -R \/soflib00\nsudo chown icdesa3:icdesa -R \/bdatos00",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"CopyScripts",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"OpenJDK_Batch"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\nsudo mkdir -p \/bdatos00\/desarrollo\/inCMS3\/Files\nsudo mkdir -p \/bdatos00\/desarrollo\/inCMS3\/temp\nsudo mkdir -p \/soflib00\/desarrollo\/inCMS3\/bin\/batch\/",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"CreateFolders",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"OpenJDK_Batch"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\nsudo groupadd icdesa\nsudo useradd -m -g icdesa -s \/bin\/bash icdesa3\nsudo mkdir -p \/home\/icdesa3\/logs\nsudo touch \/home\/icdesa3\/.profile\nsudo chown icdesa3:icdesa -R \/home\/icdesa3\/logs\nsudo chown icdesa3:icdesa -R \/home\/icdesa3\/.profile",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"CreateUserandGroup",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"OpenJDK_Batch"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\nsudo yum install -y java-1.8.0-openjdk-devel\nsudo ln -s \/usr\/lib\/jvm\/java-1.8.0-openjdk-*\/ \/usr\/jdk8\nexport JAVA_HOME=\/usr\/jdk8",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"InstallOpenJDK",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"OpenJDK_Batch"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\nsudo yum update -y\nsudo yum install -y wget curl vim\nsudo yum clean packages\nsudo yum clean headers\nsudo yum clean metadata\nsudo yum clean all",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"installPackages",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"OpenJDK_Batch"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                }
              ],
              "variable_list":[

              ]
            },
            "type":"",
            "uninstall_runbook":{
              "description":"",
              "main_task_local_reference":{
                "kind":"app_task",
                "name":"e915b53d_dag_cloned_1_cloned_1_cloned_1"
              },
              "message_list":[

              ],
              "name":"cef65be2_runbook_cloned_1_cloned_0_cloned_0",
              "state":"ACTIVE",
              "task_definition_list":[
                {
                  "attrs":{
                    "edges":[

                    ],
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"e915b53d_dag_cloned_1_cloned_1_cloned_1",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_package",
                    "name":"InstallESB_cloned_0_cloned_0"
                  },
                  "timeout_secs":"0",
                  "type":"DAG",
                  "variable_list":[

                  ]
                }
              ],
              "variable_list":[

              ]
            }
          },
          "service_local_reference_list":[
            {
              "kind":"app_service",
              "name":"OpenJDK_Batch"
            }
          ],
          "type":"DEB",
          "variable_list":[

          ],
          "version":""
        },
        {
          "action_list":[

          ],
          "description":"",
          "name":"InstallESB_cloned_1",
          "options":{
            "install_runbook":{
              "description":"",
              "main_task_local_reference":{
                "kind":"app_task",
                "name":"5b445cb2_dag_cloned_1_cloned_1"
              },
              "message_list":[

              ],
              "name":"2ced9004_runbook_cloned_1_cloned_1",
              "state":"ACTIVE",
              "task_definition_list":[
                {
                  "attrs":{
                    "edges":[
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"InstallOpenJDK"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"InstallTomcat"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"InstallTomcat"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"InstallWAR"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"InstallWAR"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"RestartTomcat"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"RestartTomcat"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"AddAuthorizedKeys"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"installPackages"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"InstallOpenJDK"
                        },
                        "type":""
                      }
                    ],
                    "type":""
                  },
                  "child_tasks_local_reference_list":[
                    {
                      "kind":"app_task",
                      "name":"AddAuthorizedKeys"
                    },
                    {
                      "kind":"app_task",
                      "name":"InstallOpenJDK"
                    },
                    {
                      "kind":"app_task",
                      "name":"InstallTomcat"
                    },
                    {
                      "kind":"app_task",
                      "name":"InstallWAR"
                    },
                    {
                      "kind":"app_task",
                      "name":"RestartTomcat"
                    },
                    {
                      "kind":"app_task",
                      "name":"installPackages"
                    }
                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"5b445cb2_dag_cloned_1_cloned_1",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_package",
                    "name":"InstallESB_cloned_1"
                  },
                  "timeout_secs":"0",
                  "type":"DAG",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\ncd ~\/.ssh\/\n\necho '@@{AUTHORIZED_KEY}@@' >> authorized_keys\nsudo chmod 600 authorized_keys",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"AddAuthorizedKeys",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Backend"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\nsudo yum install -y java-1.8.0-openjdk-devel\nsudo ln -s \/usr\/lib\/jvm\/java-1.8.0-openjdk-*\/ \/usr\/jdk8\nexport JAVA_HOME=\/usr\/jdk8",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"InstallOpenJDK",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Backend"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\nsudo groupadd tomcat\nsudo mkdir -p \/usr\/local\/tomcat\nsudo useradd -s \/bin\/nologin -g tomcat -d \/usr\/local\/tomcat tomcat\n\ncd \/tmp && sudo wget https:\/\/archive.apache.org\/dist\/tomcat\/tomcat-8\/v8.5.30\/bin\/apache-tomcat-8.5.30.tar.gz\nsudo tar -zxvf apache-tomcat-8.5.30.tar.gz\ncd \/tmp\/apache-tomcat-8.5.30\n\n# Change upload file size, default 50Mb, new value 1Gb\nsudo sed -i 's\/52428800\/1073741824\/g' \/tmp\/apache-tomcat-8.5.30\/webapps\/manager\/WEB-INF\/web.xml\n\nsudo mv \/tmp\/apache-tomcat-8.5.30\/* \/usr\/local\/tomcat\/\nsudo chown -R centos:centos \/usr\/local\/tomcat\nsudo chmod a+x \/usr\/local\/tomcat\/bin\/*.sh\nsudo ln -s \/usr\/local\/tomcat\/ \/opt\/apache-tomcat-8.5.30\n\n####################################################################\nsudo mkdir -p \/soflib00\/desarrollo\/inCMS3\nsudo ln -s \/usr\/local\/tomcat\/webapps \/soflib00\/desarrollo\/inCMS3\/\n####################################################################\n\necho '[Unit]\nDescription=Apache Tomcat Web Application Container\nAfter=syslog.target network.target\n\n[Service]\nType=forking\nSuccessExitStatus=143\n\nEnvironment=JAVA_HOME=\/usr\/jdk8\nEnvironment=JRE_HOME=\/usr\/jdk8\/jre\nEnvironment=CATALINA_PID=\/usr\/local\/tomcat\/temp\/tomcat.pid\nEnvironment=CATALINA_HOME=\/usr\/local\/tomcat\nEnvironment=CATALINA_BASE=\/usr\/local\/tomcat\nEnvironment='CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC'\nEnvironment='JAVA_OPTS=-Djava.awt.headless=true -Djava.security.egd=file:\/dev\/.\/urandom'\n\nExecStart=\/usr\/local\/tomcat\/bin\/startup.sh\nExecStop=\/bin\/kill -15 $MAINPID\n\nUser=tomcat\nGroup=tomcat\n\n[Install]\nWantedBy=multi-user.target' | sudo tee -a \/etc\/systemd\/system\/tomcat.service\n\nsudo rm -rf \/usr\/local\/tomcat\/conf\/tomcat-users.xml\nsudo touch \/usr\/local\/tomcat\/conf\/tomcat-users.xml\necho '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<tomcat-users xmlns=\"http:\/\/tomcat.apache.org\/xml\"\n        xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\"\n        xsi:schemaLocation=\"http:\/\/tomcat.apache.org\/xml tomcat-users.xsd\"\n        version=\"1.0\">\n        \n            <role rolename=\"manager\"\/>\n            <role rolename=\"manager-gui\"\/>\n            <role rolename=\"manager-status\"\/>\n            <role rolename=\"manager-script\"\/>\n            <role rolename=\"admin\"\/>\n            <role rolename=\"admin-gui\"\/>\n            <role rolename=\"admin-script\"\/>\n            <role rolename=\"manager-jmx\"\/>\n            <user username=\"'@@{TOMCAT_USER_ADMIN}@@'\" password=\"'@@{TOMCAT_USER_ADMIN_PASSWORD}@@'\" roles=\"manager,manager-gui,manager-script,admin,admin-gui,admin-script,manager-script,manager-status,manager-jmx\" \/>\n            <user username=\"'@@{TOMCAT_USER}@@'\" password=\"'@@{TOMCAT_USER_PASSWORD}@@'\" roles=\"manager,manager-gui,manager-status\" \/>\n            \n<\/tomcat-users>' | sudo tee -a \/usr\/local\/tomcat\/conf\/tomcat-users.xml\n\nsudo rm -rf \/usr\/local\/tomcat\/webapps\/manager\/META-INF\/context.xml\nsudo touch \/usr\/local\/tomcat\/webapps\/manager\/META-INF\/context.xml\necho '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Context antiResourceLocking=\"false\" privileged=\"true\" >\n        <Valve className=\"org.apache.catalina.valves.RemoteAddrValve\" allow=\"^.*$\" \/>\n        <Manager sessionAttributeValueClassNameFilter=\"java\\.lang\\.(?:Boolean|Integer|Long|Number|String)|org\\.apache\\.catalina\\.filters\\.CsrfPreventionFilter\\$LruCache(?:\\$1)?|java\\.util\\.(?:Linked)?HashMap\"\/>\n<\/Context>' | sudo tee -a \/usr\/local\/tomcat\/webapps\/manager\/META-INF\/context.xml\n\nsudo rm -rf \/usr\/local\/tomcat\/webapps\/host-manager\/META-INF\/context.xml\nsudo touch \/usr\/local\/tomcat\/webapps\/host-manager\/META-INF\/context.xml\necho '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Context antiResourceLocking=\"false\" privileged=\"true\" >\n  <Valve className=\"org.apache.catalina.valves.RemoteAddrValve\" allow=\"^.*$\" \/>\n  <Manager sessionAttributeValueClassNameFilter=\"java\\.lang\\.(?:Boolean|Integer|Long|Number|String)|org\\.apache\\.catalina\\.filters\\.CsrfPreventionFilter\\$LruCache(?:\\$1)?|java\\.util\\.(?:Linked)?HashMap\"\/>\n<\/Context>' | sudo tee -a \/usr\/local\/tomcat\/webapps\/host-manager\/META-INF\/context.xml\n\nsudo chown -R tomcat:tomcat \/usr\/local\/tomcat\n\nsudo systemctl start tomcat.service\nsudo systemctl enable tomcat.service",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"InstallTomcat",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Backend"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\ncd \/tmp\/\nsudo wget http:\/\/10.22.21.134\/packages\/.private\/backend\/icDesa3.war\n\nsudo mv \/tmp\/icDesa3.war \/soflib00\/desarrollo\/inCMS3\/webapps\/\n\nsudo chown -R tomcat:tomcat \/soflib00",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"InstallWAR",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Backend"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\nexport CATALINA_BASE=\/soflib00\/desarrollo\/inCMS3_OV\nsudo systemctl restart tomcat.service",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"RestartTomcat",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Backend"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "script":"#!\/bin\/bash\nset -ex\n\nsudo yum update -y\nsudo yum install -y wget curl vim\nsudo yum clean packages\nsudo yum clean headers\nsudo yum clean metadata\nsudo yum clean all\n",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"installPackages",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Backend"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                }
              ],
              "variable_list":[

              ]
            },
            "type":"",
            "uninstall_runbook":{
              "description":"",
              "main_task_local_reference":{
                "kind":"app_task",
                "name":"e915b53d_dag_cloned_1_cloned_1"
              },
              "message_list":[

              ],
              "name":"cef65be2_runbook_cloned_1_cloned_1",
              "state":"ACTIVE",
              "task_definition_list":[
                {
                  "attrs":{
                    "edges":[

                    ],
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"e915b53d_dag_cloned_1_cloned_1",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_package",
                    "name":"InstallESB_cloned_1"
                  },
                  "timeout_secs":"0",
                  "type":"DAG",
                  "variable_list":[

                  ]
                }
              ],
              "variable_list":[

              ]
            }
          },
          "service_local_reference_list":[
            {
              "kind":"app_service",
              "name":"Tomcat_Backend"
            }
          ],
          "type":"DEB",
          "variable_list":[

          ],
          "version":""
        },
        {
          "action_list":[

          ],
          "description":"",
          "name":"InstallESB_cloned_2",
          "options":{
            "install_runbook":{
              "description":"",
              "main_task_local_reference":{
                "kind":"app_task",
                "name":"5b445cb2_dag_cloned_1_cloned_1"
              },
              "message_list":[

              ],
              "name":"2ced9004_runbook_cloned_1_cloned_2",
              "state":"ACTIVE",
              "task_definition_list":[
                {
                  "attrs":{
                    "edges":[
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"InstallOpenJDK"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"InstallTomcat"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"InstallTomcat"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"InstallWAR"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"InstallWAR"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"RestartTomcat"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"RestartTomcat"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"AddAuthorizedKeys"
                        },
                        "type":""
                      },
                      {
                        "edge_type":"user_defined",
                        "from_task_reference":{
                          "kind":"app_task",
                          "name":"installPackages"
                        },
                        "to_task_reference":{
                          "kind":"app_task",
                          "name":"InstallOpenJDK"
                        },
                        "type":""
                      }
                    ],
                    "type":""
                  },
                  "child_tasks_local_reference_list":[
                    {
                      "kind":"app_task",
                      "name":"AddAuthorizedKeys"
                    },
                    {
                      "kind":"app_task",
                      "name":"InstallOpenJDK"
                    },
                    {
                      "kind":"app_task",
                      "name":"InstallTomcat"
                    },
                    {
                      "kind":"app_task",
                      "name":"InstallWAR"
                    },
                    {
                      "kind":"app_task",
                      "name":"RestartTomcat"
                    },
                    {
                      "kind":"app_task",
                      "name":"installPackages"
                    }
                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"5b445cb2_dag_cloned_1_cloned_1",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_package",
                    "name":"InstallESB_cloned_2"
                  },
                  "timeout_secs":"0",
                  "type":"DAG",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\ncd ~\/.ssh\/\n\necho '@@{AUTHORIZED_KEY}@@' >> authorized_keys\nsudo chmod 600 authorized_keys",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"AddAuthorizedKeys",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Core"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\nsudo yum install -y java-1.8.0-openjdk-devel\nsudo ln -s \/usr\/lib\/jvm\/java-1.8.0-openjdk-*\/ \/usr\/jdk8\nexport JAVA_HOME=\/usr\/jdk8",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"InstallOpenJDK",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Core"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\nsudo groupadd tomcat\nsudo mkdir -p \/usr\/local\/tomcat\nsudo useradd -s \/bin\/nologin -g tomcat -d \/usr\/local\/tomcat tomcat\n\ncd \/tmp && sudo wget https:\/\/archive.apache.org\/dist\/tomcat\/tomcat-8\/v8.5.30\/bin\/apache-tomcat-8.5.30.tar.gz\nsudo tar -zxvf apache-tomcat-8.5.30.tar.gz\ncd \/tmp\/apache-tomcat-8.5.30\n\n# Change upload file size, default 50Mb, new value 1Gb\nsudo sed -i 's\/52428800\/1073741824\/g' \/tmp\/apache-tomcat-8.5.30\/webapps\/manager\/WEB-INF\/web.xml\n\nsudo mv \/tmp\/apache-tomcat-8.5.30\/* \/usr\/local\/tomcat\/\nsudo chown -R centos:centos \/usr\/local\/tomcat\nsudo chmod a+x \/usr\/local\/tomcat\/bin\/*.sh\nsudo ln -s \/usr\/local\/tomcat\/ \/opt\/apache-tomcat-8.5.30\n\n#####################################################################\nsudo mkdir -p \/soflib00\/desarrollo\/inCMS3_OV\nsudo ln -s \/usr\/local\/tomcat\/webapps \/soflib00\/desarrollo\/inCMS3_OV\/\n#####################################################################\n\necho '[Unit]\nDescription=Apache Tomcat Web Application Container\nAfter=syslog.target network.target\n\n[Service]\nType=forking\nSuccessExitStatus=143\n\nEnvironment=JAVA_HOME=\/usr\/jdk8\nEnvironment=JRE_HOME=\/usr\/jdk8\/jre\nEnvironment=CATALINA_PID=\/usr\/local\/tomcat\/temp\/tomcat.pid\nEnvironment=CATALINA_HOME=\/usr\/local\/tomcat\nEnvironment=CATALINA_BASE=\/usr\/local\/tomcat\nEnvironment='CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC'\nEnvironment='JAVA_OPTS=-Djava.awt.headless=true -Djava.security.egd=file:\/dev\/.\/urandom'\n\nExecStart=\/usr\/local\/tomcat\/bin\/startup.sh\nExecStop=\/bin\/kill -15 $MAINPID\n\nUser=tomcat\nGroup=tomcat\n\n[Install]\nWantedBy=multi-user.target' | sudo tee -a \/etc\/systemd\/system\/tomcat.service\n\nsudo rm -rf \/usr\/local\/tomcat\/conf\/tomcat-users.xml\nsudo touch \/usr\/local\/tomcat\/conf\/tomcat-users.xml\necho '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<tomcat-users xmlns=\"http:\/\/tomcat.apache.org\/xml\"\n        xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\"\n        xsi:schemaLocation=\"http:\/\/tomcat.apache.org\/xml tomcat-users.xsd\"\n        version=\"1.0\">\n        \n            <role rolename=\"manager\"\/>\n            <role rolename=\"manager-gui\"\/>\n            <role rolename=\"manager-status\"\/>\n            <role rolename=\"manager-script\"\/>\n            <role rolename=\"admin\"\/>\n            <role rolename=\"admin-gui\"\/>\n            <role rolename=\"admin-script\"\/>\n            <role rolename=\"manager-jmx\"\/>\n            <user username=\"'@@{TOMCAT_USER_ADMIN}@@'\" password=\"'@@{TOMCAT_USER_ADMIN_PASSWORD}@@'\" roles=\"manager,manager-gui,manager-script,admin,admin-gui,admin-script,manager-script,manager-status,manager-jmx\" \/>\n            <user username=\"'@@{TOMCAT_USER}@@'\" password=\"'@@{TOMCAT_USER_PASSWORD}@@'\" roles=\"manager,manager-gui,manager-status\" \/>\n            \n<\/tomcat-users>' | sudo tee -a \/usr\/local\/tomcat\/conf\/tomcat-users.xml\n\nsudo rm -rf \/usr\/local\/tomcat\/webapps\/manager\/META-INF\/context.xml\nsudo touch \/usr\/local\/tomcat\/webapps\/manager\/META-INF\/context.xml\necho '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Context antiResourceLocking=\"false\" privileged=\"true\" >\n        <Valve className=\"org.apache.catalina.valves.RemoteAddrValve\" allow=\"^.*$\" \/>\n        <Manager sessionAttributeValueClassNameFilter=\"java\\.lang\\.(?:Boolean|Integer|Long|Number|String)|org\\.apache\\.catalina\\.filters\\.CsrfPreventionFilter\\$LruCache(?:\\$1)?|java\\.util\\.(?:Linked)?HashMap\"\/>\n<\/Context>' | sudo tee -a \/usr\/local\/tomcat\/webapps\/manager\/META-INF\/context.xml\n\nsudo rm -rf \/usr\/local\/tomcat\/webapps\/host-manager\/META-INF\/context.xml\nsudo touch \/usr\/local\/tomcat\/webapps\/host-manager\/META-INF\/context.xml\necho '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Context antiResourceLocking=\"false\" privileged=\"true\" >\n  <Valve className=\"org.apache.catalina.valves.RemoteAddrValve\" allow=\"^.*$\" \/>\n  <Manager sessionAttributeValueClassNameFilter=\"java\\.lang\\.(?:Boolean|Integer|Long|Number|String)|org\\.apache\\.catalina\\.filters\\.CsrfPreventionFilter\\$LruCache(?:\\$1)?|java\\.util\\.(?:Linked)?HashMap\"\/>\n<\/Context>' | sudo tee -a \/usr\/local\/tomcat\/webapps\/host-manager\/META-INF\/context.xml\n\nsudo chown -R tomcat:tomcat \/usr\/local\/tomcat\n\nsudo systemctl start tomcat.service\nsudo systemctl enable tomcat.service",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"InstallTomcat",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Core"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\ncd \/tmp\/\nsudo wget http:\/\/10.22.21.134\/packages\/.private\/peripherals\/incms-vending-server.war\nsudo wget http:\/\/10.22.21.134\/packages\/.private\/peripherals\/incms-vending-client.war\nsudo wget http:\/\/10.22.21.134\/packages\/.private\/peripherals\/incms-ss-server.war\nsudo wget http:\/\/10.22.21.134\/packages\/.private\/peripherals\/incms-ss-client-classic.war\nsudo wget http:\/\/10.22.21.134\/packages\/.private\/peripherals\/incms-map.war\nsudo wget http:\/\/10.22.21.134\/packages\/.private\/peripherals\/incms-letters.war\n\nsudo mv \/tmp\/*.war \/soflib00\/desarrollo\/inCMS3_OV\/webapps\/\n\nsudo chown -R tomcat:tomcat \/soflib00",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"InstallWAR",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Core"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\nsudo systemctl restart tomcat.service",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"RestartTomcat",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Core"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                },
                {
                  "attrs":{
                    "command_line_args":"",
                    "exit_status":[

                    ],
                    "login_credential_local_reference":{
                      "kind":"app_credential",
                      "name":"centos"
                    },
                    "script":"#!\/bin\/bash\nset -ex\n\nsudo yum update -y\nsudo yum install -y wget curl vim\nsudo yum clean packages\nsudo yum clean headers\nsudo yum clean metadata\nsudo yum clean all",
                    "script_type":"sh",
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"installPackages",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_service",
                    "name":"Tomcat_Core"
                  },
                  "timeout_secs":"0",
                  "type":"EXEC",
                  "variable_list":[

                  ]
                }
              ],
              "variable_list":[

              ]
            },
            "type":"",
            "uninstall_runbook":{
              "description":"",
              "main_task_local_reference":{
                "kind":"app_task",
                "name":"e915b53d_dag_cloned_1_cloned_1"
              },
              "message_list":[

              ],
              "name":"cef65be2_runbook_cloned_1_cloned_2",
              "state":"ACTIVE",
              "task_definition_list":[
                {
                  "attrs":{
                    "edges":[

                    ],
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"e915b53d_dag_cloned_1_cloned_1",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_package",
                    "name":"InstallESB_cloned_2"
                  },
                  "timeout_secs":"0",
                  "type":"DAG",
                  "variable_list":[

                  ]
                }
              ],
              "variable_list":[

              ]
            }
          },
          "service_local_reference_list":[
            {
              "kind":"app_service",
              "name":"Tomcat_Core"
            }
          ],
          "type":"DEB",
          "variable_list":[

          ],
          "version":""
        },
        {
          "action_list":[

          ],
          "description":"",
          "name":"SQL",
          "options":{
            "install_runbook":{
              "description":"",
              "main_task_local_reference":{
                "kind":"app_task",
                "name":"5b445cb2_dag_cloned_1_cloned_1"
              },
              "message_list":[

              ],
              "name":"2ced9004_runbook_cloned_1_cloned_3",
              "state":"ACTIVE",
              "task_definition_list":[
                {
                  "attrs":{
                    "edges":[

                    ],
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"5b445cb2_dag_cloned_1_cloned_1",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_package",
                    "name":"SQL"
                  },
                  "timeout_secs":"0",
                  "type":"DAG",
                  "variable_list":[

                  ]
                }
              ],
              "variable_list":[

              ]
            },
            "type":"",
            "uninstall_runbook":{
              "description":"",
              "main_task_local_reference":{
                "kind":"app_task",
                "name":"e915b53d_dag_cloned_1_cloned_1"
              },
              "message_list":[

              ],
              "name":"cef65be2_runbook_cloned_1_cloned_3",
              "state":"ACTIVE",
              "task_definition_list":[
                {
                  "attrs":{
                    "edges":[

                    ],
                    "type":""
                  },
                  "child_tasks_local_reference_list":[

                  ],
                  "description":"",
                  "message_list":[

                  ],
                  "name":"e915b53d_dag_cloned_1_cloned_1",
                  "retries":"0",
                  "state":"ACTIVE",
                  "target_any_local_reference":{
                    "kind":"app_package",
                    "name":"SQL"
                  },
                  "timeout_secs":"0",
                  "type":"DAG",
                  "variable_list":[

                  ]
                }
              ],
              "variable_list":[

              ]
            }
          },
          "service_local_reference_list":[
            {
              "kind":"app_service",
              "name":"SQLServer"
            }
          ],
          "type":"DEB",
          "variable_list":[

          ],
          "version":""
        }
      ],
      "published_service_definition_list":[

      ],
      "service_definition_list":[
        {
          "action_list":[
            {
              "critical":false,
              "description":"System action for creating an application",
              "name":"action_create",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"6867bf21_dag_cloned_1_cloned_1_cloned_1"
                },
                "name":"649ebb9f_runbook_cloned_1_cloned_0_cloned_0",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"6867bf21_dag_cloned_1_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"OpenJDK_Batch"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for deleting an application. Deletes created VMs as well",
              "name":"action_delete",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"b6f75d2f_dag_cloned_1_cloned_1_cloned_1"
                },
                "name":"41524ac0_runbook_cloned_1_cloned_0_cloned_0",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"b6f75d2f_dag_cloned_1_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"OpenJDK_Batch"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for restarting an application",
              "name":"action_restart",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"ff4f877b_dag_cloned_1_cloned_1_cloned_1"
                },
                "name":"0a872297_runbook_cloned_1_cloned_0_cloned_0",
                "task_definition_list":[
                  {
                    "attrs":{
                      "command_line_args":"",
                      "exit_status":[

                      ],
                      "login_credential_local_reference":{
                        "kind":"app_credential",
                        "name":"centos"
                      },
                      "script":"#!\/bin\/bash\nset -ex\n\nsudo systemctl start wso2server.service",
                      "script_type":"sh",
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"Restart WSO2 server_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"OpenJDK_Batch"
                    },
                    "timeout_secs":"0",
                    "type":"EXEC",
                    "variable_list":[

                    ]
                  },
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[
                      {
                        "kind":"app_task",
                        "name":"Restart WSO2 server_cloned_1_cloned_1"
                      }
                    ],
                    "description":"",
                    "name":"ff4f877b_dag_cloned_1_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"OpenJDK_Batch"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for deleting an application. Does not delete created VMs",
              "name":"action_soft_delete",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"efa70809_dag_cloned_1_cloned_1_cloned_1"
                },
                "name":"b64cd6dc_runbook_cloned_1_cloned_0_cloned_0",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"efa70809_dag_cloned_1_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"OpenJDK_Batch"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for starting an application",
              "name":"action_start",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"4828f091_dag_cloned_1_cloned_1_cloned_1"
                },
                "name":"d23157a1_runbook_cloned_1_cloned_0_cloned_0",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"4828f091_dag_cloned_1_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"OpenJDK_Batch"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for stopping an application",
              "name":"action_stop",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"9736c6d3_dag_cloned_1_cloned_1_cloned_1"
                },
                "name":"4b4d2d04_runbook_cloned_1_cloned_0_cloned_0",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"9736c6d3_dag_cloned_1_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"OpenJDK_Batch"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            }
          ],
          "depends_on_list":[

          ],
          "description":"",
          "name":"OpenJDK_Batch",
          "port_list":[

          ],
          "singleton":false,
          "tier":"",
          "variable_list":[

          ]
        },
        {
          "action_list":[
            {
              "critical":false,
              "description":"System action for creating an application",
              "name":"action_create",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"6867bf21_dag_cloned_1_cloned_1"
                },
                "name":"649ebb9f_runbook_cloned_1_cloned_3",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"6867bf21_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"SQLServer"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for deleting an application. Deletes created VMs as well",
              "name":"action_delete",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"b6f75d2f_dag_cloned_1_cloned_1"
                },
                "name":"41524ac0_runbook_cloned_1_cloned_3",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"b6f75d2f_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"SQLServer"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for restarting an application",
              "name":"action_restart",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"ff4f877b_dag_cloned_1_cloned_1"
                },
                "name":"0a872297_runbook_cloned_1_cloned_3",
                "task_definition_list":[
                  {
                    "attrs":{
                      "command_line_args":"",
                      "exit_status":[

                      ],
                      "login_credential_local_reference":{
                        "kind":"app_credential",
                        "name":"centos"
                      },
                      "script":"#!\/bin\/bash\nset -ex\n\nsudo systemctl start wso2server.service",
                      "script_type":"sh",
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"Restart WSO2 server_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"SQLServer"
                    },
                    "timeout_secs":"0",
                    "type":"EXEC",
                    "variable_list":[

                    ]
                  },
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[
                      {
                        "kind":"app_task",
                        "name":"Restart WSO2 server_cloned_1"
                      }
                    ],
                    "description":"",
                    "name":"ff4f877b_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"SQLServer"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for deleting an application. Does not delete created VMs",
              "name":"action_soft_delete",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"efa70809_dag_cloned_1_cloned_1"
                },
                "name":"b64cd6dc_runbook_cloned_1_cloned_3",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"efa70809_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"SQLServer"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for starting an application",
              "name":"action_start",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"4828f091_dag_cloned_1_cloned_1"
                },
                "name":"d23157a1_runbook_cloned_1_cloned_3",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"4828f091_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"SQLServer"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for stopping an application",
              "name":"action_stop",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"9736c6d3_dag_cloned_1_cloned_1"
                },
                "name":"4b4d2d04_runbook_cloned_1_cloned_3",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"9736c6d3_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"SQLServer"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            }
          ],
          "depends_on_list":[
            {
              "kind":"app_service",
              "name":"Tomcat_Core"
            }
          ],
          "description":"",
          "name":"SQLServer",
          "port_list":[

          ],
          "singleton":false,
          "tier":"",
          "variable_list":[

          ]
        },
        {
          "action_list":[
            {
              "critical":false,
              "description":"System action for creating an application",
              "name":"action_create",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"6867bf21_dag_cloned_1_cloned_1"
                },
                "name":"649ebb9f_runbook_cloned_1_cloned_1",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"6867bf21_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Backend"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for deleting an application. Deletes created VMs as well",
              "name":"action_delete",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"b6f75d2f_dag_cloned_1_cloned_1"
                },
                "name":"41524ac0_runbook_cloned_1_cloned_1",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"b6f75d2f_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Backend"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for restarting an application",
              "name":"action_restart",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"ff4f877b_dag_cloned_1_cloned_1"
                },
                "name":"0a872297_runbook_cloned_1_cloned_1",
                "task_definition_list":[
                  {
                    "attrs":{
                      "command_line_args":"",
                      "exit_status":[

                      ],
                      "login_credential_local_reference":{
                        "kind":"app_credential",
                        "name":"centos"
                      },
                      "script":"#!\/bin\/bash\nset -ex\n\nsudo systemctl start wso2server.service",
                      "script_type":"sh",
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"Restart WSO2 server_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Backend"
                    },
                    "timeout_secs":"0",
                    "type":"EXEC",
                    "variable_list":[

                    ]
                  },
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[
                      {
                        "kind":"app_task",
                        "name":"Restart WSO2 server_cloned_1"
                      }
                    ],
                    "description":"",
                    "name":"ff4f877b_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Backend"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for deleting an application. Does not delete created VMs",
              "name":"action_soft_delete",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"efa70809_dag_cloned_1_cloned_1"
                },
                "name":"b64cd6dc_runbook_cloned_1_cloned_1",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"efa70809_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Backend"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for starting an application",
              "name":"action_start",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"4828f091_dag_cloned_1_cloned_1"
                },
                "name":"d23157a1_runbook_cloned_1_cloned_1",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"4828f091_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Backend"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for stopping an application",
              "name":"action_stop",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"9736c6d3_dag_cloned_1_cloned_1"
                },
                "name":"4b4d2d04_runbook_cloned_1_cloned_1",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"9736c6d3_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Backend"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            }
          ],
          "depends_on_list":[
            {
              "kind":"app_service",
              "name":"WSO2"
            }
          ],
          "description":"",
          "name":"Tomcat_Backend",
          "port_list":[

          ],
          "singleton":false,
          "tier":"",
          "variable_list":[

          ]
        },
        {
          "action_list":[
            {
              "critical":false,
              "description":"System action for creating an application",
              "name":"action_create",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"6867bf21_dag_cloned_1_cloned_1"
                },
                "name":"649ebb9f_runbook_cloned_1_cloned_2",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"6867bf21_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Core"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for deleting an application. Deletes created VMs as well",
              "name":"action_delete",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"b6f75d2f_dag_cloned_1_cloned_1"
                },
                "name":"41524ac0_runbook_cloned_1_cloned_2",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"b6f75d2f_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Core"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for restarting an application",
              "name":"action_restart",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"ff4f877b_dag_cloned_1_cloned_1"
                },
                "name":"0a872297_runbook_cloned_1_cloned_2",
                "task_definition_list":[
                  {
                    "attrs":{
                      "command_line_args":"",
                      "exit_status":[

                      ],
                      "login_credential_local_reference":{
                        "kind":"app_credential",
                        "name":"centos"
                      },
                      "script":"#!\/bin\/bash\nset -ex\n\nsudo systemctl start wso2server.service",
                      "script_type":"sh",
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"Restart WSO2 server_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Core"
                    },
                    "timeout_secs":"0",
                    "type":"EXEC",
                    "variable_list":[

                    ]
                  },
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[
                      {
                        "kind":"app_task",
                        "name":"Restart WSO2 server_cloned_1"
                      }
                    ],
                    "description":"",
                    "name":"ff4f877b_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Core"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for deleting an application. Does not delete created VMs",
              "name":"action_soft_delete",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"efa70809_dag_cloned_1_cloned_1"
                },
                "name":"b64cd6dc_runbook_cloned_1_cloned_2",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"efa70809_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Core"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for starting an application",
              "name":"action_start",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"4828f091_dag_cloned_1_cloned_1"
                },
                "name":"d23157a1_runbook_cloned_1_cloned_2",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"4828f091_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Core"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for stopping an application",
              "name":"action_stop",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"9736c6d3_dag_cloned_1_cloned_1"
                },
                "name":"4b4d2d04_runbook_cloned_1_cloned_2",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"9736c6d3_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Core"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            }
          ],
          "depends_on_list":[
            {
              "kind":"app_service",
              "name":"Tomcat_Backend"
            }
          ],
          "description":"",
          "name":"Tomcat_Core",
          "port_list":[

          ],
          "singleton":false,
          "tier":"",
          "variable_list":[

          ]
        },
        {
          "action_list":[
            {
              "critical":false,
              "description":"System action for creating an application",
              "name":"action_create",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"6867bf21_dag_cloned_1_cloned_1"
                },
                "name":"649ebb9f_runbook_cloned_1_cloned_0",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"6867bf21_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Front"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for deleting an application. Deletes created VMs as well",
              "name":"action_delete",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"b6f75d2f_dag_cloned_1_cloned_1"
                },
                "name":"41524ac0_runbook_cloned_1_cloned_0",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"b6f75d2f_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Front"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for restarting an application",
              "name":"action_restart",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"ff4f877b_dag_cloned_1_cloned_1"
                },
                "name":"0a872297_runbook_cloned_1_cloned_0",
                "task_definition_list":[
                  {
                    "attrs":{
                      "command_line_args":"",
                      "exit_status":[

                      ],
                      "login_credential_local_reference":{
                        "kind":"app_credential",
                        "name":"centos"
                      },
                      "script":"#!\/bin\/bash\nset -ex\n\nsudo systemctl start wso2server.service",
                      "script_type":"sh",
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"Restart WSO2 server_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Front"
                    },
                    "timeout_secs":"0",
                    "type":"EXEC",
                    "variable_list":[

                    ]
                  },
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[
                      {
                        "kind":"app_task",
                        "name":"Restart WSO2 server_cloned_1"
                      }
                    ],
                    "description":"",
                    "name":"ff4f877b_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Front"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for deleting an application. Does not delete created VMs",
              "name":"action_soft_delete",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"efa70809_dag_cloned_1_cloned_1"
                },
                "name":"b64cd6dc_runbook_cloned_1_cloned_0",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"efa70809_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Front"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for starting an application",
              "name":"action_start",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"4828f091_dag_cloned_1_cloned_1"
                },
                "name":"d23157a1_runbook_cloned_1_cloned_0",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"4828f091_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Front"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for stopping an application",
              "name":"action_stop",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"9736c6d3_dag_cloned_1_cloned_1"
                },
                "name":"4b4d2d04_runbook_cloned_1_cloned_0",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"9736c6d3_dag_cloned_1_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"Tomcat_Front"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            }
          ],
          "depends_on_list":[
            {
              "kind":"app_service",
              "name":"OpenJDK_Batch"
            }
          ],
          "description":"",
          "name":"Tomcat_Front",
          "port_list":[

          ],
          "singleton":false,
          "tier":"",
          "variable_list":[

          ]
        },
        {
          "action_list":[
            {
              "critical":false,
              "description":"System action for creating an application",
              "name":"action_create",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"6867bf21_dag_cloned_1"
                },
                "name":"649ebb9f_runbook_cloned_1",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"6867bf21_dag_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"WSO2"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for deleting an application. Deletes created VMs as well",
              "name":"action_delete",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"b6f75d2f_dag_cloned_1"
                },
                "name":"41524ac0_runbook_cloned_1",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"b6f75d2f_dag_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"WSO2"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for restarting an application",
              "name":"action_restart",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"ff4f877b_dag_cloned_1"
                },
                "name":"0a872297_runbook_cloned_1",
                "task_definition_list":[
                  {
                    "attrs":{
                      "command_line_args":"",
                      "exit_status":[

                      ],
                      "login_credential_local_reference":{
                        "kind":"app_credential",
                        "name":"centos"
                      },
                      "script":"#!\/bin\/bash\nset -ex\n\nsudo systemctl start wso2server.service",
                      "script_type":"sh",
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"Restart WSO2 server",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"WSO2"
                    },
                    "timeout_secs":"0",
                    "type":"EXEC",
                    "variable_list":[

                    ]
                  },
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[
                      {
                        "kind":"app_task",
                        "name":"Restart WSO2 server"
                      }
                    ],
                    "description":"",
                    "name":"ff4f877b_dag_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"WSO2"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for deleting an application. Does not delete created VMs",
              "name":"action_soft_delete",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"efa70809_dag_cloned_1"
                },
                "name":"b64cd6dc_runbook_cloned_1",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"efa70809_dag_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"WSO2"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for starting an application",
              "name":"action_start",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"4828f091_dag_cloned_1"
                },
                "name":"d23157a1_runbook_cloned_1",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[
                      {
                        "kind":"app_task",
                        "name":"Start WSO2 Server"
                      }
                    ],
                    "description":"",
                    "name":"4828f091_dag_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"WSO2"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  },
                  {
                    "attrs":{
                      "command_line_args":"",
                      "exit_status":[

                      ],
                      "login_credential_local_reference":{
                        "kind":"app_credential",
                        "name":"centos"
                      },
                      "script":"#!\/bin\/bash\nset -ex\n\nsudo systemctl start wso2server.service",
                      "script_type":"sh",
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"Start WSO2 Server",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"WSO2"
                    },
                    "timeout_secs":"0",
                    "type":"EXEC",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            },
            {
              "critical":false,
              "description":"System action for stopping an application",
              "name":"action_stop",
              "runbook":{
                "description":"",
                "main_task_local_reference":{
                  "kind":"app_task",
                  "name":"9736c6d3_dag_cloned_1"
                },
                "name":"4b4d2d04_runbook_cloned_1",
                "task_definition_list":[
                  {
                    "attrs":{
                      "edges":[

                      ],
                      "type":""
                    },
                    "child_tasks_local_reference_list":[

                    ],
                    "description":"",
                    "name":"9736c6d3_dag_cloned_1",
                    "retries":"0",
                    "target_any_local_reference":{
                      "kind":"app_service",
                      "name":"WSO2"
                    },
                    "timeout_secs":"0",
                    "type":"DAG",
                    "variable_list":[

                    ]
                  }
                ],
                "variable_list":[

                ]
              },
              "type":"system"
            }
          ],
          "depends_on_list":[
            {
              "kind":"app_service",
              "name":"Tomcat_Front"
            }
          ],
          "description":"",
          "name":"WSO2",
          "port_list":[

          ],
          "singleton":false,
          "tier":"",
          "variable_list":[

          ]
        }
      ],
      "substrate_definition_list":[
        {
          "action_list":[

          ],
          "create_spec":{
            "availability_zone_reference":null,
            "backup_policy":null,
            "categories":"",
            "cluster_reference":null,
            "name":"Backend-@@{calm_unique}@@",
            "resources":{
              "boot_config":{
                "boot_device":{
                  "disk_address":{
                    "adapter_type":"SCSI",
                    "device_index":0,
                    "type":""
                  },
                  "type":""
                },
                "mac_address":"",
                "type":""
              },
              "disk_list":[
                {
                  "data_source_reference":{
                    "kind":"image",
                    "name":"acs-centos",
                    "type":"",
                    "uuid":"2defcfd4-132a-452c-9143-833751984e18"
                  },
                  "device_properties":{
                    "device_type":"DISK",
                    "disk_address":{
                      "adapter_type":"SCSI",
                      "device_index":0,
                      "type":""
                    },
                    "type":""
                  },
                  "disk_size_mib":0,
                  "type":"",
                  "volume_group_reference":null
                }
              ],
              "gpu_list":[

              ],
              "guest_customization":{
                "cloud_init":{
                  "meta_data":"",
                  "type":"",
                  "user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"
                },
                "sysprep":null,
                "type":""
              },
              "guest_tools":null,
              "hardware_clock_timezone":"",
              "memory_size_mib":4096,
              "nic_list":[
                {
                  "ip_endpoint_list":[

                  ],
                  "mac_address":"",
                  "network_function_chain_reference":null,
                  "network_function_nic_type":"INGRESS",
                  "nic_type":"NORMAL_NIC",
                  "subnet_reference":{
                    "kind":"subnet",
                    "name":"",
                    "type":"",
                    "uuid":"4aa08188-f780-4b00-87df-b0ebdc96e0a3"
                  },
                  "type":""
                }
              ],
              "num_sockets":2,
              "num_vcpus_per_socket":1,
              "parent_reference":null,
              "power_state":"ON",
              "serial_port_list":[

              ],
              "type":""
            },
            "type":""
          },
          "description":"",
          "editables":{
            "create_spec":{
              "name":true,
              "resources":{
                "disk_list":{

                },
                "guest_customization":true,
                "memory_size_mib":true,
                "nic_list":{

                },
                "num_sockets":true,
                "num_vcpus_per_socket":true,
                "serial_port_list":{

                }
              }
            },
            "readiness_probe":{
              "connection_port":true,
              "timeout_secs":true
            }
          },
          "name":"Backend",
          "os_type":"Linux",
          "readiness_probe":{
            "address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
            "connection_port":22,
            "connection_type":"SSH",
            "delay_secs":"0",
            "disable_readiness_probe":false,
            "login_credential_local_reference":{
              "kind":"app_credential",
              "name":"centos"
            }
          },
          "type":"AHV_VM",
          "variable_list":[

          ]
        },
        {
          "action_list":[

          ],
          "create_spec":{
            "availability_zone_reference":null,
            "backup_policy":null,
            "categories":"",
            "cluster_reference":null,
            "name":"BatchLayer-@@{calm_unique}@@",
            "resources":{
              "boot_config":{
                "boot_device":{
                  "disk_address":{
                    "adapter_type":"SCSI",
                    "device_index":0,
                    "type":""
                  },
                  "type":""
                },
                "mac_address":"",
                "type":""
              },
              "disk_list":[
                {
                  "data_source_reference":{
                    "kind":"image",
                    "name":"acs-centos",
                    "type":"",
                    "uuid":"2defcfd4-132a-452c-9143-833751984e18"
                  },
                  "device_properties":{
                    "device_type":"DISK",
                    "disk_address":{
                      "adapter_type":"SCSI",
                      "device_index":0,
                      "type":""
                    },
                    "type":""
                  },
                  "disk_size_mib":0,
                  "type":"",
                  "volume_group_reference":null
                }
              ],
              "gpu_list":[

              ],
              "guest_customization":{
                "cloud_init":{
                  "meta_data":"",
                  "type":"",
                  "user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"
                },
                "sysprep":null,
                "type":""
              },
              "guest_tools":null,
              "hardware_clock_timezone":"",
              "memory_size_mib":4096,
              "nic_list":[
                {
                  "ip_endpoint_list":[

                  ],
                  "mac_address":"",
                  "network_function_chain_reference":null,
                  "network_function_nic_type":"INGRESS",
                  "nic_type":"NORMAL_NIC",
                  "subnet_reference":{
                    "kind":"subnet",
                    "name":"",
                    "type":"",
                    "uuid":"4aa08188-f780-4b00-87df-b0ebdc96e0a3"
                  },
                  "type":""
                }
              ],
              "num_sockets":2,
              "num_vcpus_per_socket":1,
              "parent_reference":null,
              "power_state":"ON",
              "serial_port_list":[

              ],
              "type":""
            },
            "type":""
          },
          "description":"",
          "editables":{
            "create_spec":{
              "name":true,
              "resources":{
                "disk_list":{

                },
                "guest_customization":true,
                "memory_size_mib":true,
                "nic_list":{

                },
                "num_sockets":true,
                "num_vcpus_per_socket":true,
                "serial_port_list":{

                }
              }
            },
            "readiness_probe":{
              "connection_port":true,
              "timeout_secs":true
            }
          },
          "name":"Batch",
          "os_type":"Linux",
          "readiness_probe":{
            "address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
            "connection_port":22,
            "connection_type":"SSH",
            "delay_secs":"0",
            "disable_readiness_probe":false,
            "login_credential_local_reference":{
              "kind":"app_credential",
              "name":"centos"
            }
          },
          "type":"AHV_VM",
          "variable_list":[

          ]
        },
        {
          "action_list":[

          ],
          "create_spec":{
            "address":"10.22.21.143",
            "type":"PROVISION_EXISTING_MACHINE"
          },
          "description":"",
          "name":"DataBase",
          "os_type":"Windows",
          "readiness_probe":{
            "address":"@@{ip_address}@@",
            "connection_port":5985,
            "connection_type":"POWERSHELL",
            "delay_secs":"60",
            "disable_readiness_probe":false,
            "login_credential_local_reference":{
              "kind":"app_credential",
              "name":"localAdminAccount"
            }
          },
          "type":"EXISTING_VM",
          "variable_list":[

          ]
        },
        {
          "action_list":[

          ],
          "create_spec":{
            "availability_zone_reference":null,
            "backup_policy":null,
            "categories":"",
            "cluster_reference":null,
            "name":"ESB-@@{calm_unique}@@",
            "resources":{
              "boot_config":{
                "boot_device":{
                  "disk_address":{
                    "adapter_type":"SCSI",
                    "device_index":0,
                    "type":""
                  },
                  "type":""
                },
                "mac_address":"",
                "type":""
              },
              "disk_list":[
                {
                  "data_source_reference":{
                    "kind":"image",
                    "name":"acs-centos",
                    "type":"",
                    "uuid":"2defcfd4-132a-452c-9143-833751984e18"
                  },
                  "device_properties":{
                    "device_type":"DISK",
                    "disk_address":{
                      "adapter_type":"SCSI",
                      "device_index":0,
                      "type":""
                    },
                    "type":""
                  },
                  "disk_size_mib":0,
                  "type":"",
                  "volume_group_reference":null
                }
              ],
              "gpu_list":[

              ],
              "guest_customization":{
                "cloud_init":{
                  "meta_data":"",
                  "type":"",
                  "user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"
                },
                "sysprep":null,
                "type":""
              },
              "guest_tools":null,
              "hardware_clock_timezone":"",
              "memory_size_mib":4096,
              "nic_list":[
                {
                  "ip_endpoint_list":[

                  ],
                  "mac_address":"",
                  "network_function_chain_reference":null,
                  "network_function_nic_type":"INGRESS",
                  "nic_type":"NORMAL_NIC",
                  "subnet_reference":{
                    "kind":"subnet",
                    "name":"",
                    "type":"",
                    "uuid":"4aa08188-f780-4b00-87df-b0ebdc96e0a3"
                  },
                  "type":""
                }
              ],
              "num_sockets":2,
              "num_vcpus_per_socket":1,
              "parent_reference":null,
              "power_state":"ON",
              "serial_port_list":[

              ],
              "type":""
            },
            "type":""
          },
          "description":"",
          "editables":{
            "create_spec":{
              "name":true,
              "resources":{
                "disk_list":{

                },
                "guest_customization":true,
                "memory_size_mib":true,
                "nic_list":{

                },
                "num_sockets":true,
                "num_vcpus_per_socket":true,
                "serial_port_list":{

                }
              }
            },
            "readiness_probe":{
              "connection_port":true,
              "timeout_secs":true
            }
          },
          "name":"Enterprise Server Bus",
          "os_type":"Linux",
          "readiness_probe":{
            "address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
            "connection_port":22,
            "connection_type":"SSH",
            "delay_secs":"0",
            "disable_readiness_probe":false,
            "login_credential_local_reference":{
              "kind":"app_credential",
              "name":"centos"
            }
          },
          "type":"AHV_VM",
          "variable_list":[

          ]
        },
        {
          "action_list":[

          ],
          "create_spec":{
            "availability_zone_reference":null,
            "backup_policy":null,
            "categories":"",
            "cluster_reference":null,
            "name":"Front-@@{calm_unique}@@",
            "resources":{
              "boot_config":{
                "boot_device":{
                  "disk_address":{
                    "adapter_type":"SCSI",
                    "device_index":0,
                    "type":""
                  },
                  "type":""
                },
                "mac_address":"",
                "type":""
              },
              "disk_list":[
                {
                  "data_source_reference":{
                    "kind":"image",
                    "name":"acs-centos",
                    "type":"",
                    "uuid":"2defcfd4-132a-452c-9143-833751984e18"
                  },
                  "device_properties":{
                    "device_type":"DISK",
                    "disk_address":{
                      "adapter_type":"SCSI",
                      "device_index":0,
                      "type":""
                    },
                    "type":""
                  },
                  "disk_size_mib":0,
                  "type":"",
                  "volume_group_reference":null
                }
              ],
              "gpu_list":[

              ],
              "guest_customization":{
                "cloud_init":{
                  "meta_data":"",
                  "type":"",
                  "user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"
                },
                "sysprep":null,
                "type":""
              },
              "guest_tools":null,
              "hardware_clock_timezone":"",
              "memory_size_mib":4096,
              "nic_list":[
                {
                  "ip_endpoint_list":[

                  ],
                  "mac_address":"",
                  "network_function_chain_reference":null,
                  "network_function_nic_type":"INGRESS",
                  "nic_type":"NORMAL_NIC",
                  "subnet_reference":{
                    "kind":"subnet",
                    "name":"",
                    "type":"",
                    "uuid":"4aa08188-f780-4b00-87df-b0ebdc96e0a3"
                  },
                  "type":""
                }
              ],
              "num_sockets":2,
              "num_vcpus_per_socket":1,
              "parent_reference":null,
              "power_state":"ON",
              "serial_port_list":[

              ],
              "type":""
            },
            "type":""
          },
          "description":"",
          "editables":{
            "create_spec":{
              "name":true,
              "resources":{
                "disk_list":{

                },
                "guest_customization":true,
                "memory_size_mib":true,
                "nic_list":{

                },
                "num_sockets":true,
                "num_vcpus_per_socket":true,
                "serial_port_list":{

                }
              }
            },
            "readiness_probe":{
              "connection_port":true,
              "timeout_secs":true
            }
          },
          "name":"Front",
          "os_type":"Linux",
          "readiness_probe":{
            "address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
            "connection_port":22,
            "connection_type":"SSH",
            "delay_secs":"0",
            "disable_readiness_probe":false,
            "login_credential_local_reference":{
              "kind":"app_credential",
              "name":"centos"
            }
          },
          "type":"AHV_VM",
          "variable_list":[

          ]
        },
        {
          "action_list":[

          ],
          "create_spec":{
            "availability_zone_reference":null,
            "backup_policy":null,
            "categories":"",
            "cluster_reference":null,
            "name":"Peripherals-@@{calm_unique}@@",
            "resources":{
              "boot_config":{
                "boot_device":{
                  "disk_address":{
                    "adapter_type":"SCSI",
                    "device_index":0,
                    "type":""
                  },
                  "type":""
                },
                "mac_address":"",
                "type":""
              },
              "disk_list":[
                {
                  "data_source_reference":{
                    "kind":"image",
                    "name":"acs-centos",
                    "type":"",
                    "uuid":"2defcfd4-132a-452c-9143-833751984e18"
                  },
                  "device_properties":{
                    "device_type":"DISK",
                    "disk_address":{
                      "adapter_type":"SCSI",
                      "device_index":0,
                      "type":""
                    },
                    "type":""
                  },
                  "disk_size_mib":0,
                  "type":"",
                  "volume_group_reference":null
                }
              ],
              "gpu_list":[

              ],
              "guest_customization":{
                "cloud_init":{
                  "meta_data":"",
                  "type":"",
                  "user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"
                },
                "sysprep":null,
                "type":""
              },
              "guest_tools":null,
              "hardware_clock_timezone":"",
              "memory_size_mib":8192,
              "nic_list":[
                {
                  "ip_endpoint_list":[

                  ],
                  "mac_address":"",
                  "network_function_chain_reference":null,
                  "network_function_nic_type":"INGRESS",
                  "nic_type":"NORMAL_NIC",
                  "subnet_reference":{
                    "kind":"subnet",
                    "name":"",
                    "type":"",
                    "uuid":"4aa08188-f780-4b00-87df-b0ebdc96e0a3"
                  },
                  "type":""
                }
              ],
              "num_sockets":2,
              "num_vcpus_per_socket":1,
              "parent_reference":null,
              "power_state":"ON",
              "serial_port_list":[

              ],
              "type":""
            },
            "type":""
          },
          "description":"",
          "editables":{
            "create_spec":{
              "name":true,
              "resources":{
                "disk_list":{

                },
                "guest_customization":true,
                "memory_size_mib":true,
                "nic_list":{

                },
                "num_sockets":true,
                "num_vcpus_per_socket":true,
                "serial_port_list":{

                }
              }
            },
            "readiness_probe":{
              "connection_port":true,
              "timeout_secs":true
            }
          },
          "name":"Peripherals",
          "os_type":"Linux",
          "readiness_probe":{
            "address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@",
            "connection_port":22,
            "connection_type":"SSH",
            "delay_secs":"0",
            "disable_readiness_probe":false,
            "login_credential_local_reference":{
              "kind":"app_credential",
              "name":"centos"
            }
          },
          "type":"AHV_VM",
          "variable_list":[

          ]
        }
      ],
      "type":"USER"
    }
  },
  "status":{

  }
}